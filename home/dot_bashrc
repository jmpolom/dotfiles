#!/usr/bin/bash

for file in /etc/bashrc /opt/homebrew/etc/profile.d/bash_completion.sh; do
    if [ -f "$file" ]; then
        source "$file"
    fi
done

if ! [[ "$PATH" =~ "$HOME/.local/bin:$HOME/bin:" ]]
then
    PATH="$HOME/.local/bin:$HOME/bin:$PATH"
fi

export PATH

shopt -s checkwinsize
shopt -s direxpand
shopt -s histappend

export EDITOR=nvim
export VISUAL=nvim

if [ -f ~/.bash_aliases ]; then
    source ~/.bash_aliases
fi

export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWCOLORHINTS=1

# DarkSlateGray3
user_color=$'\[\e[38;5;116m\]'
# SkyBlue2
host_color=$'\[\e[38;5;111m\]'
# NavajoWhite1
cwd_color=$'\[\e[38;5;223m\]'
clear_color=$'\[\e[0m\]'

PS1="${user_color}\u${clear_color}@${host_color}\h${clear_color}:${cwd_color}\W${clear_color}"

if [ -f "${HOME}/.local/bin/git-prompt.sh" ]; then
    source "${HOME}/.local/bin/git-prompt.sh"
    PS1="${PS1}\$(__git_ps1 \" (%s)\")$ "
else
    PS1="${PS1}$ "
fi

export "PS1"
export PS2="${user_color}> ${clear_color}"

unset rc
